@import 'src/css/mixins';

.c-collection-core-frame {
  width: 100%;
  // max-width: 320px;
  margin: 0 0 96px;
  text-align: center;
  position: relative;

  &__sold-out {
    color: color('black-50p');
    position: absolute;
    top: -33px;
    width: 100%;
    opacity: 0.01;
    transition: opacity 0.3s;

    &.-show{
      opacity: 1;
    }
  }

  &__details {
    position: relative;
    top: 20px;
  }

  @include mqAbove($c-frames-grid-breakpoint-1) {
    width: 385px;
    max-width: none;
  }

  &__images-container {
    position: relative;
    transition: margin $transition-duration-fast;


    &.-show-ctas.-single-cta {
      margin-bottom: 36px;
    }

    &.-show-ctas {
      margin-bottom: 93px;

      @include mqAbove($min-width-tablet-small) {
        &,
        &.-single-cta {
          margin-bottom: 24px;
        }
      }

      @include mqAbove($c-frames-grid-breakpoint-1) {
        &,
        &.-single-cta {
          margin-bottom: 0;
        }
      }
    }
  }

  &__image-link {
    position: absolute;
    width: 100%;
    left: 0;
    top: 0;
    min-height: 90px;
    visibility: hidden;
    opacity: 0;
    transition:
      visibility 0s $transition-duration-fast,
      opacity $transition-duration-fast,
      transform $transition-duration-fast;

    &.-active {
      visibility: visible;
      opacity: 1;
      transition: opacity $transition-duration-fast $transition-duration-fast, transform $transition-duration-fast;
    }

    &.-show-ctas {
      transform: scale(.64) translateY(-60%);

      @include mqAbove($min-width-tablet-small) {
        transform: scale(.64) translateY(-36%);
      }

      @include mqAbove($c-frames-grid-breakpoint-1) {
        transform: scale(.64) translateY(-64px);
      }
    }

    &.-block {
      position: relative;
      display: block;
    }
  }


  &__image {
    width: 100%;
  }

  &__cta-container {
    visibility: hidden;
    opacity: 0;
    padding-top: 0;
    height: 0;
    transition: opacity 2 * $transition-duration-fast $transition-duration-fast;
    text-align: center;
    position: absolute;
    width: 100%;
    bottom: -93px;
    right: 50%;
    transform: translateY(20%) translateX(50%);

    &.-single-cta {
      bottom: -30px;
      margin-bottom: 0;
    }

    @include mqAbove($min-width-tablet-small) {
      &,
      &.-single-cta {
        bottom: -24px;
      }
    }

    @include mqAbove($c-frames-grid-breakpoint-1) {
      &,
      &.-single-cta {
        bottom: 0;
      }
    }

    @include mqBetween($min-width-tablet-small, $c-frames-grid-breakpoint-3) {
      // Fix to accommodate shop-links margins
      width: 110%;
      margin-left: -5%
    }

    &.-active {
      &.-active.-show-ctas {
        height: auto;
        transition:
          opacity 2 * $transition-duration-fast ease-out,
          visibility $transition-duration-fast,
          transform $transition-duration-fast ease;
        visibility: visible;
        opacity: 1;
        transform: translateX(50%);
      }
    }
  }

  &__name {
    margin: 12px 0 3px;
  }

  &__color-swatches {
    margin-top: 12px;
  }

}
